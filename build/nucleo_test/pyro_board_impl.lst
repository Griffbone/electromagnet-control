ARM GAS  /tmp/cc6ZaWOV.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"pyro_board_impl.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "src/drivers/pyro_board/pyro_board_impl.c"
  19              		.section	.text.pyro_board_write,"ax",%progbits
  20              		.align	1
  21              		.global	pyro_board_write
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	pyro_board_write:
  27              	.LVL0:
  28              	.LFB144:
   1:src/drivers/pyro_board/pyro_board_impl.c **** #include "pyro_board.h"
   2:src/drivers/pyro_board/pyro_board_impl.c **** #include "stm32h7xx_hal.h"
   3:src/drivers/pyro_board/pyro_board_impl.c **** 
   4:src/drivers/pyro_board/pyro_board_impl.c **** // Use the STM32 HAL to write bytes to the pyro board
   5:src/drivers/pyro_board/pyro_board_impl.c **** pyro_board_err_t pyro_board_write(pyro_board_device_t *device, uint8_t *data, uint8_t len) {
  29              		.loc 1 5 92 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 5 92 is_stmt 0 view .LVU1
  34 0000 00B5     		push	{lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 4
  37              		.cfi_offset 14, -4
  38 0002 83B0     		sub	sp, sp, #12
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 16
  41 0004 1346     		mov	r3, r2
   6:src/drivers/pyro_board/pyro_board_impl.c ****   uint8_t ret;
  42              		.loc 1 6 3 is_stmt 1 view .LVU2
   7:src/drivers/pyro_board/pyro_board_impl.c **** 
   8:src/drivers/pyro_board/pyro_board_impl.c ****   ret = HAL_I2C_Master_Transmit(device->hi2c, device->i2c_address << 1, data, len,
  43              		.loc 1 8 3 view .LVU3
  44              		.loc 1 8 53 is_stmt 0 view .LVU4
  45 0006 90F804C0 		ldrb	ip, [r0, #4]	@ zero_extendqisi2
  46              		.loc 1 8 9 view .LVU5
  47 000a 8268     		ldr	r2, [r0, #8]
  48              	.LVL1:
  49              		.loc 1 8 9 view .LVU6
  50 000c 0092     		str	r2, [sp]
ARM GAS  /tmp/cc6ZaWOV.s 			page 2


  51 000e 0A46     		mov	r2, r1
  52 0010 4FEA4C01 		lsl	r1, ip, #1
  53              	.LVL2:
  54              		.loc 1 8 9 view .LVU7
  55 0014 0068     		ldr	r0, [r0]
  56              	.LVL3:
  57              		.loc 1 8 9 view .LVU8
  58 0016 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
  59              	.LVL4:
   9:src/drivers/pyro_board/pyro_board_impl.c ****                           device->i2c_timeout_ms);
  10:src/drivers/pyro_board/pyro_board_impl.c ****                           
  11:src/drivers/pyro_board/pyro_board_impl.c ****   if (ret != HAL_OK) {
  60              		.loc 1 11 3 is_stmt 1 view .LVU9
  61              		.loc 1 11 6 is_stmt 0 view .LVU10
  62 001a 10B9     		cbnz	r0, .L5
  63              	.L2:
  12:src/drivers/pyro_board/pyro_board_impl.c ****       return PYRO_BOARD_ERR_HAL;
  13:src/drivers/pyro_board/pyro_board_impl.c ****   }
  14:src/drivers/pyro_board/pyro_board_impl.c **** 
  15:src/drivers/pyro_board/pyro_board_impl.c ****   return PYRO_BOARD_ERR_OK;
  16:src/drivers/pyro_board/pyro_board_impl.c **** }
  64              		.loc 1 16 1 view .LVU11
  65 001c 03B0     		add	sp, sp, #12
  66              	.LCFI2:
  67              		.cfi_remember_state
  68              		.cfi_def_cfa_offset 4
  69              		@ sp needed
  70 001e 5DF804FB 		ldr	pc, [sp], #4
  71              	.L5:
  72              	.LCFI3:
  73              		.cfi_restore_state
  12:src/drivers/pyro_board/pyro_board_impl.c ****       return PYRO_BOARD_ERR_HAL;
  74              		.loc 1 12 14 view .LVU12
  75 0022 0220     		movs	r0, #2
  76 0024 FAE7     		b	.L2
  77              		.cfi_endproc
  78              	.LFE144:
  80              		.section	.text.pyro_board_read_byte,"ax",%progbits
  81              		.align	1
  82              		.global	pyro_board_read_byte
  83              		.syntax unified
  84              		.thumb
  85              		.thumb_func
  87              	pyro_board_read_byte:
  88              	.LVL5:
  89              	.LFB145:
  17:src/drivers/pyro_board/pyro_board_impl.c **** 
  18:src/drivers/pyro_board/pyro_board_impl.c **** // Use the STM32 HAL to read a byte from the pyro board 
  19:src/drivers/pyro_board/pyro_board_impl.c **** pyro_board_err_t pyro_board_read_byte(pyro_board_device_t *device, uint8_t *byte) {
  90              		.loc 1 19 83 is_stmt 1 view -0
  91              		.cfi_startproc
  92              		@ args = 0, pretend = 0, frame = 8
  93              		@ frame_needed = 0, uses_anonymous_args = 0
  94              		.loc 1 19 83 is_stmt 0 view .LVU14
  95 0000 10B5     		push	{r4, lr}
  96              	.LCFI4:
  97              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cc6ZaWOV.s 			page 3


  98              		.cfi_offset 4, -8
  99              		.cfi_offset 14, -4
 100 0002 84B0     		sub	sp, sp, #16
 101              	.LCFI5:
 102              		.cfi_def_cfa_offset 24
 103 0004 0C46     		mov	r4, r1
  20:src/drivers/pyro_board/pyro_board_impl.c ****   uint8_t rx;
 104              		.loc 1 20 3 is_stmt 1 view .LVU15
  21:src/drivers/pyro_board/pyro_board_impl.c ****   uint8_t ret;
 105              		.loc 1 21 3 view .LVU16
  22:src/drivers/pyro_board/pyro_board_impl.c ****   
  23:src/drivers/pyro_board/pyro_board_impl.c ****   ret = HAL_I2C_Master_Receive(device->hi2c, device->i2c_address << 1, &rx, 1,
 106              		.loc 1 23 3 view .LVU17
 107              		.loc 1 23 52 is_stmt 0 view .LVU18
 108 0006 0179     		ldrb	r1, [r0, #4]	@ zero_extendqisi2
 109              	.LVL6:
 110              		.loc 1 23 9 view .LVU19
 111 0008 8368     		ldr	r3, [r0, #8]
 112 000a 0093     		str	r3, [sp]
 113 000c 0123     		movs	r3, #1
 114 000e 0DF10F02 		add	r2, sp, #15
 115 0012 9940     		lsls	r1, r1, r3
 116 0014 0068     		ldr	r0, [r0]
 117              	.LVL7:
 118              		.loc 1 23 9 view .LVU20
 119 0016 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 120              	.LVL8:
  24:src/drivers/pyro_board/pyro_board_impl.c ****                          device->i2c_timeout_ms);
  25:src/drivers/pyro_board/pyro_board_impl.c **** 
  26:src/drivers/pyro_board/pyro_board_impl.c ****   if (ret != HAL_OK) {
 121              		.loc 1 26 3 is_stmt 1 view .LVU21
 122              		.loc 1 26 6 is_stmt 0 view .LVU22
 123 001a 20B9     		cbnz	r0, .L8
  27:src/drivers/pyro_board/pyro_board_impl.c ****     return PYRO_BOARD_ERR_HAL;
  28:src/drivers/pyro_board/pyro_board_impl.c ****   }
  29:src/drivers/pyro_board/pyro_board_impl.c **** 
  30:src/drivers/pyro_board/pyro_board_impl.c ****   *byte = rx;
 124              		.loc 1 30 3 is_stmt 1 view .LVU23
 125              		.loc 1 30 9 is_stmt 0 view .LVU24
 126 001c 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 127 0020 2370     		strb	r3, [r4]
  31:src/drivers/pyro_board/pyro_board_impl.c **** 
  32:src/drivers/pyro_board/pyro_board_impl.c ****   return PYRO_BOARD_ERR_OK;
 128              		.loc 1 32 3 is_stmt 1 view .LVU25
 129              	.L7:
  33:src/drivers/pyro_board/pyro_board_impl.c **** }
 130              		.loc 1 33 1 is_stmt 0 view .LVU26
 131 0022 04B0     		add	sp, sp, #16
 132              	.LCFI6:
 133              		.cfi_remember_state
 134              		.cfi_def_cfa_offset 8
 135              		@ sp needed
 136 0024 10BD     		pop	{r4, pc}
 137              	.LVL9:
 138              	.L8:
 139              	.LCFI7:
 140              		.cfi_restore_state
ARM GAS  /tmp/cc6ZaWOV.s 			page 4


  27:src/drivers/pyro_board/pyro_board_impl.c ****     return PYRO_BOARD_ERR_HAL;
 141              		.loc 1 27 12 view .LVU27
 142 0026 0220     		movs	r0, #2
 143 0028 FBE7     		b	.L7
 144              		.cfi_endproc
 145              	.LFE145:
 147              		.text
 148              	.Letext0:
 149              		.file 2 "/usr/lib/gcc/arm-none-eabi/12.2.1/include/stdint.h"
 150              		.file 3 "src/drivers/pyro_board/pyro_board.h"
 151              		.file 4 "external/drivers/cmsis/include/stm32h723xx.h"
 152              		.file 5 "external/drivers/stm32h7xx/include/stm32h7xx_hal_def.h"
 153              		.file 6 "external/drivers/stm32h7xx/include/stm32h7xx_hal_dma.h"
 154              		.file 7 "external/drivers/stm32h7xx/include/stm32h7xx_hal_i2c.h"
ARM GAS  /tmp/cc6ZaWOV.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 pyro_board_impl.c
     /tmp/cc6ZaWOV.s:20     .text.pyro_board_write:00000000 $t
     /tmp/cc6ZaWOV.s:26     .text.pyro_board_write:00000000 pyro_board_write
     /tmp/cc6ZaWOV.s:81     .text.pyro_board_read_byte:00000000 $t
     /tmp/cc6ZaWOV.s:87     .text.pyro_board_read_byte:00000000 pyro_board_read_byte

UNDEFINED SYMBOLS
HAL_I2C_Master_Transmit
HAL_I2C_Master_Receive
